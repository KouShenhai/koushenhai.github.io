(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{409:function(t,a,e){"use strict";e.r(a);var s=e(15),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("你好呀，我的老朋友！我是老寇，欢迎来到老寇IoT云平台！")]),t._v(" "),a("h2",{attrs:{id:"通用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通用说明"}},[t._v("#")]),t._v(" 通用说明")]),t._v(" "),a("h3",{attrs:{id:"基础url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础url"}},[t._v("#")]),t._v(" 基础URL")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("环境")]),t._v(" "),a("th",[t._v("URL")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("开发环境")]),t._v(" "),a("td",[a("code",[t._v("http://gateway:1111/api")])])]),t._v(" "),a("tr",[a("td",[t._v("测试环境")]),t._v(" "),a("td",[a("code",[t._v("https://gateway:1111/api")])])]),t._v(" "),a("tr",[a("td",[t._v("生产环境")]),t._v(" "),a("td",[a("code",[t._v("https://gateway:1111/api")])])])])]),t._v(" "),a("h3",{attrs:{id:"客户端认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端认证"}},[t._v("#")]),t._v(" 客户端认证")]),t._v(" "),a("p",[t._v("所有认证请求需要在 "),a("code",[t._v("Authorization")]),t._v(" 头中携带客户端凭证：")]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic {Base64(client_id:client_secret)}")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("默认客户端凭证：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("客户端类型")]),t._v(" "),a("th",[t._v("Client ID")]),t._v(" "),a("th",[t._v("Client Secret")]),t._v(" "),a("th",[t._v("Base64 编码")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("默认客户端")]),t._v(" "),a("td",[a("code",[t._v("95TxSsTPFA3tF12TBSMmUVK0da")])]),t._v(" "),a("td",[a("code",[t._v("FpHwIfw4wY92dO")])]),t._v(" "),a("td",[a("code",[t._v("OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])])]),t._v(" "),a("tr",[a("td",[t._v("PKCE客户端")]),t._v(" "),a("td",[a("code",[t._v("eb7Ded5bbFbd7896f8a2cfdDc9")])]),t._v(" "),a("td",[a("code",[t._v("DpAkPfz4eW18d2")])]),t._v(" "),a("td",[t._v("(无需认证，使用 PKCE)")])])])]),t._v(" "),a("h3",{attrs:{id:"支持的授权类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#支持的授权类型"}},[t._v("#")]),t._v(" 支持的授权类型")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("授权类型 (grant_type)")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("username_password")])]),t._v(" "),a("td",[t._v("用户名密码登录")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("mobile")])]),t._v(" "),a("td",[t._v("手机号登录")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("mail")])]),t._v(" "),a("td",[t._v("邮箱登录")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("authorization_code")])]),t._v(" "),a("td",[t._v("授权码登录")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("client_credentials")])]),t._v(" "),a("td",[t._v("客户端凭证登录")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("urn:ietf:params:oauth:grant-type:device_code")])]),t._v(" "),a("td",[t._v("设备码登录")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("refresh_token")])]),t._v(" "),a("td",[t._v("刷新令牌")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("test")])]),t._v(" "),a("td",[t._v("测试登录")])])])]),t._v(" "),a("h3",{attrs:{id:"通用响应格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通用响应格式"}},[t._v("#")]),t._v(" 通用响应格式")]),t._v(" "),a("p",[a("strong",[t._v("成功响应：")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"access_token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"refresh_token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3baVWlvnqHKJJtIx5Bjh56soxkFWIeqxGBkfMP64KXir..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token_type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"expires_in"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scope"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"read write"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("错误响应：")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"invalid_grant"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error_description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"用户名或密码错误"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"验证码相关-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证码相关-api"}},[t._v("#")]),t._v(" 验证码相关 API")]),t._v(" "),a("h3",{attrs:{id:"获取图形验证码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取图形验证码"}},[t._v("#")]),t._v(" 获取图形验证码")]),t._v(" "),a("p",[t._v("获取用于用户名密码登录的图形验证码。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/v1/captchas/{uuid}")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("GET")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("认证")])]),t._v(" "),a("td",[t._v("无需认证")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("限流")])]),t._v(" "),a("td",[t._v("IP 限流")])])])]),t._v(" "),a("p",[a("strong",[t._v("路径参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("uuid")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("唯一标识符，用于关联验证码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/v1/captchas/550e8400-e29b-41d4-a716-446655440000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("成功响应：")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"发送手机验证码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发送手机验证码"}},[t._v("#")]),t._v(" 发送手机验证码")]),t._v(" "),a("p",[t._v("发送手机短信验证码，用于手机号登录。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/v1/captchas/send/mobile")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("application/json")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("认证")])]),t._v(" "),a("td",[t._v("无需认证")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("限流")])]),t._v(" "),a("td",[t._v("IP 限流 + 幂等性校验")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求体：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("uuid")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("手机号")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tenantCode")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("租户编码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/v1/captchas/send/mobile")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uuid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18888888888"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tenantCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"laokou"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("p",[a("strong",[t._v("成功响应：")]),t._v(" HTTP 200 (无响应体)")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"发送邮箱验证码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发送邮箱验证码"}},[t._v("#")]),t._v(" 发送邮箱验证码")]),t._v(" "),a("p",[t._v("发送邮箱验证码，用于邮箱登录。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/v1/captchas/send/mail")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("application/json")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("认证")])]),t._v(" "),a("td",[t._v("无需认证")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("限流")])]),t._v(" "),a("td",[t._v("IP 限流 + 幂等性校验")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求体：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("uuid")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("邮箱地址")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tenantCode")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("租户编码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/v1/captchas/send/mail")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uuid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user@example.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tenantCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"laokou"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("p",[a("strong",[t._v("成功响应：")]),t._v(" HTTP 200 (无响应体)")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"密钥-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#密钥-api"}},[t._v("#")]),t._v(" 密钥 API")]),t._v(" "),a("h3",{attrs:{id:"获取安全密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取安全密钥"}},[t._v("#")]),t._v(" 获取安全密钥")]),t._v(" "),a("p",[t._v("获取用于加密用户名和密码的 RSA 公钥。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/v1/secrets")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("GET")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("认证")])]),t._v(" "),a("td",[t._v("无需认证")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("限流")])]),t._v(" "),a("td",[t._v("IP 限流")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/v1/secrets")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("成功响应：")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"publicKey"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCB..."')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("[!IMPORTANT]\n用户名和密码需要使用返回的公钥进行 RSA 加密后再提交。")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"认证-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#认证-api"}},[t._v("#")]),t._v(" 认证 API")]),t._v(" "),a("p",[t._v("所有认证请求都使用同一个端点 "),a("code",[t._v("/oauth2/token")]),t._v("，通过 "),a("code",[t._v("grant_type")]),t._v(" 参数区分不同的认证方式。")]),t._v(" "),a("h3",{attrs:{id:"_1-用户名密码登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-用户名密码登录"}},[t._v("#")]),t._v(" 1. 用户名密码登录")]),t._v(" "),a("p",[t._v("使用用户名和密码进行认证。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("username_password")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("username")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("用户名 (RSA 加密)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("password")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("密码 (RSA 加密)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("uuid")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("验证码唯一标识")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("captcha")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("图形验证码")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tenant_code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("租户编码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\nusername_password\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="username"')])]),t._v("\n\n{RSA加密后的用户名}\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="password"')])]),t._v("\n\n{RSA加密后的密码}\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="uuid"')])]),t._v("\n\n550e8400-e29b-41d4-a716-446655440000\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="captcha"')])]),t._v("\n\nHGXZ\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="tenant_code"')])]),t._v("\n\nlaokou\n--WebAppBoundary\n")])])]),a("p",[a("strong",[t._v("cURL 示例：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gateway:1111/api/oauth2/token"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8="')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grant_type=username_password"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username={RSA加密后的用户名}"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password={RSA加密后的密码}"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uuid=550e8400-e29b-41d4-a716-446655440000"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"captcha=HGXZ"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tenant_code=laokou"')]),t._v("\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_2-手机号登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-手机号登录"}},[t._v("#")]),t._v(" 2. 手机号登录")]),t._v(" "),a("p",[t._v("使用手机号和短信验证码进行认证。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("mobile")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("mobile")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("手机号")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("短信验证码")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tenant_code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("租户编码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\nmobile\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="mobile"')])]),t._v("\n\n18888888888\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="code"')])]),t._v("\n\n123456\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="tenant_code"')])]),t._v("\n\nlaokou\n--WebAppBoundary\n")])])]),a("p",[a("strong",[t._v("cURL 示例：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gateway:1111/api/oauth2/token"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8="')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grant_type=mobile"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mobile=18888888888"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code=123456"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tenant_code=laokou"')]),t._v("\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_3-邮箱登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-邮箱登录"}},[t._v("#")]),t._v(" 3. 邮箱登录")]),t._v(" "),a("p",[t._v("使用邮箱和邮箱验证码进行认证。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("mail")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("mail")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("邮箱地址")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("邮箱验证码")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tenant_code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("租户编码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\nmail\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="mail"')])]),t._v("\n\nuser@example.com\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="code"')])]),t._v("\n\n654321\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="tenant_code"')])]),t._v("\n\nlaokou\n--WebAppBoundary\n")])])]),a("p",[a("strong",[t._v("cURL 示例：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gateway:1111/api/oauth2/token"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8="')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grant_type=mail"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mail=user@example.com"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code=654321"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tenant_code=laokou"')]),t._v("\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_4-授权码登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-授权码登录"}},[t._v("#")]),t._v(" 4. 授权码登录")]),t._v(" "),a("p",[t._v("OAuth2.1 标准授权码模式，需要 PKCE 支持。")]),t._v(" "),a("h4",{attrs:{id:"步骤-1-获取授权码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-获取授权码"}},[t._v("#")]),t._v(" 步骤 1: 获取授权码")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/authorize")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("GET")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("client_id")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("客户端 ID")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("response_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("code")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("scope")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("权限范围，如 "),a("code",[t._v("read write")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("redirect_uri")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("回调地址")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("code_challenge")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("PKCE 挑战码")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("code_challenge_method")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("S256")])])])])]),t._v(" "),a("p",[a("strong",[t._v("获取授权码示例 URL：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("https://gateway:1111/api/oauth2/authorize?client_id=eb7Ded5bbFbd7896f8a2cfdDc9&response_type=code&scope=read%20write&redirect_uri=http://127.0.0.1:8000&code_challenge=xxxxx&code_challenge_method=S256\n")])])]),a("p",[t._v("用户登录后，浏览器将重定向到:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("http://127.0.0.1:8000?code=K7gA8Wm6CKKZPBf-Xhhl-nM5PS_3vi8htN7DEeZrTnq...\n")])])]),a("h4",{attrs:{id:"步骤-2-使用授权码换取令牌"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-使用授权码换取令牌"}},[t._v("#")]),t._v(" 步骤 2: 使用授权码换取令牌")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("authorization_code")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("授权码")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("redirect_uri")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("回调地址 (必须与步骤1一致)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("code_verifier")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("PKCE 验证码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\nauthorization_code\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="code"')])]),t._v("\n\nK7gA8Wm6CKKZPBf-Xhhl-nM5PS_3vi8htN7DEeZrTnqTHCx0LH7Yx3hHVLBh5x0MkyxVpDGsGabb9OOM6V1-PfI4V6BOlu9q59IK8Bmmvap8Fbgw7rvLCsJoCurG1rz_\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="redirect_uri"')])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("//127.0.0.1:8000")])]),t._v("\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="code_verifier"')])]),t._v("\n\n{PKCE_code_verifier}\n--WebAppBoundary\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_5-客户端登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-客户端登录"}},[t._v("#")]),t._v(" 5. 客户端登录")]),t._v(" "),a("p",[t._v("OAuth2.1 客户端凭证模式，用于服务间认证。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("client_credentials")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\nclient_credentials\n--WebAppBoundary\n")])])]),a("p",[a("strong",[t._v("cURL 示例：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gateway:1111/api/oauth2/token"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8="')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grant_type=client_credentials"')]),t._v("\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_6-设备码登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-设备码登录"}},[t._v("#")]),t._v(" 6. 设备码登录")]),t._v(" "),a("p",[t._v("OAuth2.1 设备授权码模式，用于物联网设备等无浏览器场景。")]),t._v(" "),a("h4",{attrs:{id:"步骤-1-获取设备码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-获取设备码"}},[t._v("#")]),t._v(" 步骤 1: 获取设备码")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/device_authorization")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("application/x-www-form-urlencoded")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/device_authorization")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/x-www-form-urlencoded")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("响应示例：")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"device_code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RZ84zoHsQRGxb0mn1AZ0M3QRHfyEB7MBoEniQtd6POS..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user_code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ABCD-EFGH"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"verification_uri"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gateway:1111/api/oauth2/device_verification"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"verification_uri_complete"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gateway:1111/api/oauth2/device_verification?user_code=ABCD-EFGH"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"expires_in"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"interval"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"步骤-2-用户在浏览器中授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-用户在浏览器中授权"}},[t._v("#")]),t._v(" 步骤 2: 用户在浏览器中授权")]),t._v(" "),a("p",[t._v("用户访问 "),a("code",[t._v("verification_uri")]),t._v(" 并输入 "),a("code",[t._v("user_code")]),t._v(" 完成授权。")]),t._v(" "),a("h4",{attrs:{id:"步骤-3-设备轮询获取令牌"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3-设备轮询获取令牌"}},[t._v("#")]),t._v(" 步骤 3: 设备轮询获取令牌")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("urn:ietf:params:oauth:grant-type:device_code")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("device_code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("设备码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("urn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("ietf:params:oauth:grant-type:device_code")])]),t._v("\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="device_code"')])]),t._v("\n\nRZ84zoHsQRGxb0mn1AZ0M3QRHfyEB7MBoEniQtd6POSRFNCvYxzVgydTXvV2Ppi6zaaTnJYreRyPCNzHiaciLVjZdwQz6uV2d8Q_fbxOTM5EqMu9Wht_gH10NKYZzNoe\n--WebAppBoundary\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_7-刷新令牌"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-刷新令牌"}},[t._v("#")]),t._v(" 7. 刷新令牌")]),t._v(" "),a("p",[t._v("使用刷新令牌获取新的访问令牌。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("refresh_token")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("refresh_token")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("刷新令牌")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\nrefresh_token\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="refresh_token"')])]),t._v("\n\n3baVWlvnqHKJJtIx5Bjh56soxkFWIeqxGBkfMP64KXir1XV1cXen90oztdR4mpkyHBbnAlqIn3lHtED19pL-YyqtD6tSOez3lTExzaUICCD7GBAAwEmPOst1k7aCQnBZ\n--WebAppBoundary\n")])])]),a("p",[a("strong",[t._v("cURL 示例：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gateway:1111/api/oauth2/token"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8="')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grant_type=refresh_token"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"refresh_token={your_refresh_token}"')]),t._v("\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_8-测试登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-测试登录"}},[t._v("#")]),t._v(" 8. 测试登录")]),t._v(" "),a("p",[t._v("用于开发和测试环境的简化登录方式，无需验证码和加密。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/oauth2/token")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("multipart/form-data")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Authorization")])]),t._v(" "),a("td",[a("code",[t._v("Basic {credentials}")])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("[!CAUTION]\n此方式仅用于测试环境，生产环境应禁用。")])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("grant_type")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("固定值: "),a("code",[t._v("test")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("username")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("用户名 (明文)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("password")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("密码 (明文)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tenant_code")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("租户编码")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/oauth2/token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Basic OTVUeFNzVFBGQTN0RjEyVEJTTW1VVkswZGE6RnBId0lmdzR3WTkyZE8=")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=WebAppBoundary")])]),t._v("\n\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="grant_type"')])]),t._v("\n\ntest\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="username"')])]),t._v("\n\nadmin\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="password"')])]),t._v("\n\nadmin123\n--WebAppBoundary\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="tenant_code"')])]),t._v("\n\nlaokou\n--WebAppBoundary\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"令牌管理-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#令牌管理-api"}},[t._v("#")]),t._v(" 令牌管理 API")]),t._v(" "),a("h3",{attrs:{id:"删除令牌"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除令牌"}},[t._v("#")]),t._v(" 删除令牌")]),t._v(" "),a("p",[t._v("注销用户会话，删除令牌。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("URL")])]),t._v(" "),a("td",[a("code",[t._v("/v1/tokens")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Method")])]),t._v(" "),a("td",[a("code",[t._v("DELETE")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Content-Type")])]),t._v(" "),a("td",[a("code",[t._v("application/json")])])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("认证")])]),t._v(" "),a("td",[t._v("无需认证")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求体：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("token")])]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("要删除的访问令牌")])])])]),t._v(" "),a("p",[a("strong",[t._v("请求示例：")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("DELETE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/v1/tokens")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("gateway:1111")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..."')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"错误码说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误码说明"}},[t._v("#")]),t._v(" 错误码说明")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("错误码")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("B_OAuth2_DeptNotFound")])]),t._v(" "),a("td",[t._v("部门不存在")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_TenantNotFound")])]),t._v(" "),a("td",[t._v("租户不存在")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_GenerateRefreshTokenFail")])]),t._v(" "),a("td",[t._v("刷新令牌生成失败")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_GenerateAccessTokenFail")])]),t._v(" "),a("td",[t._v("访问令牌生成失败")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_RegisteredClientNotFound")])]),t._v(" "),a("td",[t._v("注册客户端不存在")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_InvalidClient")])]),t._v(" "),a("td",[t._v("无效客户端")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_InvalidScope")])]),t._v(" "),a("td",[t._v("无效作用域")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_UserDisabled")])]),t._v(" "),a("td",[t._v("用户已禁用")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_CaptchaExpired")])]),t._v(" "),a("td",[t._v("验证码已过期")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_CaptchaError")])]),t._v(" "),a("td",[t._v("验证码错误")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_UsernamePasswordError")])]),t._v(" "),a("td",[t._v("用户名或密码错误")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_MobileNotRegistered")])]),t._v(" "),a("td",[t._v("手机号未注册")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("B_OAuth2_MailNotRegistered")])]),t._v(" "),a("td",[t._v("邮箱未注册")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_UuidIsNull")])]),t._v(" "),a("td",[t._v("UUID 不能为空")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_CaptchaIsNull")])]),t._v(" "),a("td",[t._v("验证码不能为空")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_UsernameIsNull")])]),t._v(" "),a("td",[t._v("用户名不能为空")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_PasswordIsNull")])]),t._v(" "),a("td",[t._v("密码不能为空")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_MobileIsNull")])]),t._v(" "),a("td",[t._v("手机号不能为空")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_MailIsNull")])]),t._v(" "),a("td",[t._v("邮箱不能为空")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_TenantCodeIsNull")])]),t._v(" "),a("td",[t._v("租户编码不能为空")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_MailError")])]),t._v(" "),a("td",[t._v("邮箱格式错误")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("P_OAuth2_MobileError")])]),t._v(" "),a("td",[t._v("手机号格式错误")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"令牌有效期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#令牌有效期"}},[t._v("#")]),t._v(" 令牌有效期")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("令牌类型")]),t._v(" "),a("th",[t._v("默认有效期")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("授权码")]),t._v(" "),a("td",[t._v("5 分钟")])]),t._v(" "),a("tr",[a("td",[t._v("访问令牌")]),t._v(" "),a("td",[t._v("5 分钟")])]),t._v(" "),a("tr",[a("td",[t._v("刷新令牌")]),t._v(" "),a("td",[t._v("1 小时")])]),t._v(" "),a("tr",[a("td",[t._v("设备码")]),t._v(" "),a("td",[t._v("5 分钟")])])])]),t._v(" "),a("p",[t._v("我是老寇，我们下次再见啦！")])])}),[],!1,null,null,null);a.default=r.exports}}]);