(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{404:function(a,t,s){"use strict";s.r(t);var e=s(15),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("ä½ å¥½å‘€ï¼Œæˆ‘çš„è€æœ‹å‹ï¼æˆ‘æ˜¯è€å¯‡ï¼Œæ¬¢è¿æ¥åˆ°è€å¯‡IoTäº‘å¹³å°ï¼")]),a._v(" "),t("h3",{attrs:{id:"ä¼˜åŒ–arm-jvmæ€§èƒ½ã€1gå†…å­˜ã€‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–arm-jvmæ€§èƒ½ã€1gå†…å­˜ã€‘"}},[a._v("#")]),a._v(" ä¼˜åŒ–ARM JVMæ€§èƒ½ã€1Gå†…å­˜ã€‘")]),a._v(" "),t("h5",{attrs:{id:"ğŸš€-å®‰è£…ä¸å¸è½½jdk25"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-å®‰è£…ä¸å¸è½½jdk25"}},[a._v("#")]),a._v(" ğŸš€ å®‰è£…ä¸å¸è½½JDK25")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# å®‰è£…")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pacman "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Syy")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pacman "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-S")]),a._v(" jdk25-openjdk\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# å¸è½½")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pacman "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" jdk25-openjdk\n")])])]),t("h5",{attrs:{id:"ğŸš€-è°ƒæ•´å†…å­˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-è°ƒæ•´å†…å­˜"}},[a._v("#")]),a._v(" ğŸš€ è°ƒæ•´å†…å­˜")]),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šä¸€æ—¦ JVM å‘ç”Ÿ OOMï¼Œç«‹åˆ»ã€ç›´æ¥é€€å‡ºè¿›ç¨‹ï¼ˆkill -9çº§åˆ«ï¼‰")])],1),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Xms256m")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Xmx256m")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:MaxMetaspaceSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("128m "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:ReservedCodeCacheSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("32m "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+UseSerialGC")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:MaxDirectMemorySize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("32m "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+ExitOnOutOfMemoryError")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-jar")]),a._v(" app.jar\n")])])]),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼š1Gå†…å­˜ï¼Œé»˜è®¤å¼€å¯æŒ‡é’ˆå‹ç¼©")])],1),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# æŸ¥çœ‹å‚æ•°")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+PrintFlagsFinal")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-version")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" Compressed\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# å¼€å¯æƒ…å†µ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# bool UseCompressedClassPointers = true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# bool UseCompressedOops = true")]),a._v("\n")])])]),t("h5",{attrs:{id:"ğŸš€-é”æ­»å †å†…å­˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-é”æ­»å †å†…å­˜"}},[a._v("#")]),a._v(" ğŸš€ é”æ­»å †å†…å­˜")]),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šé˜²æ­¢JVMè¿è¡Œä¸­å·å·æ‰©å®¹")])],1),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šé¿å…Full GCé¢‘ç¹æŠ–åŠ¨")])],1),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Xms256m")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Xmx256m")]),a._v("\n")])])]),t("h5",{attrs:{id:"ğŸš€-åƒåœ¾å›æ”¶å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-åƒåœ¾å›æ”¶å™¨"}},[a._v("#")]),a._v(" ğŸš€ åƒåœ¾å›æ”¶å™¨")]),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šG1/ZGC/Shenandoahéƒ½æœ‰é¢å¤–çº¿ç¨‹å’Œå…ƒæ•°æ®å¼€é”€")])],1),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šåœ¨<1GBå†…å­˜ä¸‹ï¼ŒSerial GCåè€Œæœ€çœå†…å­˜")])],1),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šJDK25é‡ŒSerial GCä¾ç„¶æ˜¯ç¨³å®šã€å¯ç”¨ã€ä½å ç”¨çš„")])],1),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+UseSerialGC")]),a._v("\n")])])]),t("h5",{attrs:{id:"ğŸš€-é”æ­»å…ƒç©ºé—´"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-é”æ­»å…ƒç©ºé—´"}},[a._v("#")]),a._v(" ğŸš€ é”æ­»å…ƒç©ºé—´")]),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šåŠ è½½çš„ç±»ä¸€å¤šï¼ŒMetaspaceä¼šåƒæ‰ä½ å‰©ä½™çš„å†…å­˜")])],1),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šOOMå¾€å¾€ä¸æ˜¯Heapï¼Œè€Œæ˜¯Metaspace")])],1),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:MaxMetaspaceSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("128m\n")])])]),t("h5",{attrs:{id:"ğŸš€-jitç”Ÿæˆçš„æœºå™¨ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-jitç”Ÿæˆçš„æœºå™¨ç "}},[a._v("#")]),a._v(" ğŸš€ JITç”Ÿæˆçš„æœºå™¨ç ")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:ReservedCodeCacheSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("32m\n")])])]),t("p",[t("strong",[a._v("å°å†…å­˜ï¼ˆâ‰¤1GBï¼‰æ¨èå€¼")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("åœºæ™¯")]),a._v(" "),t("th",[a._v("Code Cache")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("CLI / å·¥å…·")]),a._v(" "),t("td",[a._v("16m")])]),a._v(" "),t("tr",[t("td",[a._v("æ™®é€šæœåŠ¡")]),a._v(" "),t("td",[a._v("32m")])]),a._v(" "),t("tr",[t("td",[a._v("Spring Boot")]),a._v(" "),t("td",[a._v("32m ~ 48m")])]),a._v(" "),t("tr",[t("td",[a._v("è¶…é«˜ QPS")]),a._v(" "),t("td",[a._v("64mï¼ˆä¸å»ºè®® 500MB ç¯å¢ƒï¼‰")])])])]),a._v(" "),t("h5",{attrs:{id:"ğŸš€-å †å¤–å†…å­˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-å †å¤–å†…å­˜"}},[a._v("#")]),a._v(" ğŸš€ å †å¤–å†…å­˜")]),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šå †å¤–å†…å­˜ï¼ŒGC åªèƒ½â€œé—´æ¥å›æ”¶â€ï¼Œå›æ”¶æ…¢ã€ä¸å¯æ§")])],1),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šå›æ”¶ä¾èµ–ï¼šCleanerã€å¼•ç”¨å¤±æ•ˆã€Full GC")])],1),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:MaxDirectMemorySize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("32m\n")])])]),t("p",[t("strong",[a._v("å¹¿ä¹‰å †å¤–å†…å­˜")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("ç±»å‹")]),a._v(" "),t("th",[a._v("ä¾‹å­")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("Direct Memory")]),a._v(" "),t("td",[a._v("NIO / Netty")])]),a._v(" "),t("tr",[t("td",[a._v("Code Cache")]),a._v(" "),t("td",[a._v("JIT æœºå™¨ç ")])]),a._v(" "),t("tr",[t("td",[a._v("Metaspace")]),a._v(" "),t("td",[a._v("ç±»å…ƒæ•°æ®")])]),a._v(" "),t("tr",[t("td",[a._v("JNI malloc")]),a._v(" "),t("td",[a._v("æœ¬åœ°åº“")])]),a._v(" "),t("tr",[t("td",[a._v("Thread Stack")]),a._v(" "),t("td",[a._v("æ¯ä¸ªçº¿ç¨‹çš„æ ˆ")])])])]),a._v(" "),t("h5",{attrs:{id:"ğŸš€-tomcat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-tomcat"}},[a._v("#")]),a._v(" ğŸš€ Tomcat")]),a._v(" "),t("p",[t("font",{attrs:{color:"red"}},[a._v("ğŸ‘‰ æ³¨æ„ï¼šçº¿ç¨‹æ ˆä¹Ÿä¼šåƒå†…å­˜ï¼ˆæ¯çº¿ç¨‹ ~1MBï¼‰")])],1),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("server:\n  tomcat:\n    max-threads: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("50")]),a._v("\n    accept-count: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n")])])]),t("p",[a._v("æˆ‘æ˜¯è€å¯‡ï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§å•¦ï¼")])])}),[],!1,null,null,null);t.default=r.exports}}]);