(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{481:function(t,s,a){"use strict";a.r(s);var e=a(15),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("你好呀，我的老朋友！我是老寇，欢迎来到老寇云平台！")]),t._v(" "),s("p",[t._v("跟我一起学习调试网关设备")]),t._v(" "),s("p",[t._v("相信搞过物联网的朋友，对网关设备非常熟悉，本人以小白的视角，手把手教你调试网关设备！")]),t._v(" "),s("p",[t._v("工作中使用的是"),s("code",[t._v("Ubuntu")]),t._v("操作系统，因此，本文也是基于"),s("code",[t._v("Ubuntu")]),t._v("的设备！刚拿到的新网关，我们怎么在"),s("code",[t._v("Window")]),t._v("系统联网调试？")]),t._v(" "),s("h3",{attrs:{id:"步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("h4",{attrs:{id:"_1-接通电源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-接通电源"}},[t._v("#")]),t._v(" 1.接通电源")]),t._v(" "),s("img",{attrs:{src:"/img/物联网之小白调试网关设备/1.webp"}}),t._v(" "),s("p",[t._v("找到"),s("code",[t._v("电源插口")]),t._v("，"),s("code",[t._v("插入电源线")]),t._v("，然后"),s("code",[t._v("接通电源")]),t._v("即可！")]),t._v(" "),s("h4",{attrs:{id:"_2-接入网线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-接入网线"}},[t._v("#")]),t._v(" 2.接入网线")]),t._v(" "),s("img",{attrs:{src:"/img/物联网之小白调试网关设备/2.webp"}}),t._v(" "),s("p",[t._v("不是所有的设备都有"),s("code",[t._v("两个网口")]),t._v("，有些设备只有"),s("code",[t._v("一个网口")]),t._v("，"),s("code",[t._v("LAN1")]),t._v("和"),s("code",[t._v("LAN2")]),t._v("对应网络配置的"),s("code",[t._v("eth0")]),t._v("和"),s("code",[t._v("eth1")]),t._v("，这个有专门的命名，叫做"),s("code",[t._v("以太网")])]),t._v(" "),s("p",[t._v("网线一头插入"),s("code",[t._v("LAN1")]),t._v("，另一头插入自己调试用的"),s("code",[t._v("电脑网口")]),t._v("，笔记本没有网口，请使用"),s("code",[t._v("网口转接头")])]),t._v(" "),s("h4",{attrs:{id:"_3-修改电脑ip配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改电脑ip配置"}},[t._v("#")]),t._v(" 3.修改电脑IP配置")]),t._v(" "),s("p",[t._v("按下"),s("code",[t._v("Win + R")]),t._v("组合键打开运行窗口，输入"),s("code",[t._v("control")]),t._v("后回车，启动控制面板！点击"),s("code",[t._v("网络和 Internet")]),t._v("，找到"),s("code",[t._v("网络连接")]),t._v("，修改"),s("code",[t._v("以太网2")]),t._v("网络配置，点击"),s("code",[t._v("Intenet协议版本 4(TCP/IPv4)")]),t._v(",网关设备IP地址为 "),s("code",[t._v("192.168.0.88")]),t._v("，"),s("code",[t._v("因为不在同一个网段，所以，需要我们手动设置IP")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/物联网之小白调试网关设备/3.webp"}}),s("br")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/物联网之小白调试网关设备/4.webp"}}),s("br")]),t._v(" "),s("img",{attrs:{src:"/img/物联网之小白调试网关设备/5.webp"}}),t._v(" "),s("h4",{attrs:{id:"_4-ssh连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ssh连接"}},[t._v("#")]),t._v(" 4.ssh连接")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("finalshell")]),t._v("或"),s("code",[t._v("xshell")]),t._v("连接即可")]),t._v(" "),s("h4",{attrs:{id:"_5-手动配置设备ip静态ip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-手动配置设备ip静态ip"}},[t._v("#")]),t._v(" 5.手动配置设备IP静态IP")]),t._v(" "),s("p",[s("code",[t._v("Ubuntu")]),t._v("的网络配置一般在 "),s("code",[t._v("/etc/netplan")]),t._v(" 目录下，我们手动配置IP为 "),s("code",[t._v("192.168.1.33")]),t._v("，这样和我们的电脑IP处于"),s("code",[t._v("同一个网段")]),t._v("，方便直接调试！")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/netplan/01-network-manager-all.yaml\n")])])]),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("network")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("renderer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NetworkManager\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ethernets")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eth0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dhcp4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addresses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 192.168.1.33/24\n\t\t    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gateway4已被弃用，高版本可能不生效")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gateway4: 192.168.1.1")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.0.0.0/0\n\t\t\t\t  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("via")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 192.168.1.1\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nameservers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addresses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 8.8.8.8\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 114.114.114.114\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eth1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dhcp4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addresses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 100.100.1.15/24\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gateway4已被弃用，高版本可能不生效")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gateway4: 100.100.1.1")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.0.0.0/0\n\t\t\t\t  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("via")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100.100.1.1\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nameservers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addresses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 223.5.5.5\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 114.114.114.114\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" netplan apply\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启网络")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart networking\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看网络是否生效")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ifconfig")]),t._v("\n")])])]),s("p",[t._v("DNS无法解析配置")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/resolv.conf\n\nnameserver "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.8")]),t._v(".8.8\nnameserver "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114.114")]),t._v(".114.114\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /ect/hosts\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1 localhost\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1 主机名\n")])])]),s("h4",{attrs:{id:"_6-网络交换机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-网络交换机"}},[t._v("#")]),t._v(" 6.网络交换机")]),t._v(" "),s("p",[t._v("拔掉自己电脑的网络，将网线插入"),s("code",[t._v("交换机")]),t._v("，我们就可以通过ssh连接~")]),t._v(" "),s("h3",{attrs:{id:"遇到的坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遇到的坑"}},[t._v("#")]),t._v(" 遇到的坑")]),t._v(" "),s("h4",{attrs:{id:"网关设备磁盘不够"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网关设备磁盘不够"}},[t._v("#")]),t._v(" 网关设备磁盘不够")]),t._v(" "),s("p",[t._v("刚买的网关装了"),s("code",[t._v("docker")]),t._v("，重启几次 "),s("code",[t._v("docker")]),t._v("，导致"),s("code",[t._v("磁盘满了")]),t._v("，无法"),s("code",[t._v("上传文件")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看磁盘使用情况，是否真的满了，还是因为网络问题，需要我们逐步排除")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-lh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全路径搜索目录，找到磁盘占用最高的目录，一个一个找，总会找到磁盘占用最高的目录，这种情况，一般是系统日志占用特别多的磁盘内存 -> /var/log/syslog")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-hsx")]),t._v(" /* "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rh")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清除日志，这个命令不要轻易执行，很危险！")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" /var/log/syslog\n")])])]),s("h4",{attrs:{id:"网络设备设置自动获取ip-无法连接设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络设备设置自动获取ip-无法连接设备"}},[t._v("#")]),t._v(" 网络设备设置自动获取IP，无法连接设备")]),t._v(" "),s("p",[t._v("这种直接在"),s("code",[t._v("网络管理页面")]),t._v("上面查看所有设备的IP，找到设备的"),s("code",[t._v("动态IP")]),t._v("即可！")]),t._v(" "),s("p",[t._v("我是老寇，我们下次再见啦！")])])}),[],!1,null,null,null);s.default=n.exports}}]);