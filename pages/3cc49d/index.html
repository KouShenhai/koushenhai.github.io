<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring Cloud Alibabaé…ç½® | KCloud-Platform-IoT</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="ä¸€ä¸ªä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„çš„IoTäº‘å¹³å°">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.1d530ede.css" as="style"><link rel="preload" href="/assets/js/app.8d26d456.js" as="script"><link rel="preload" href="/assets/js/4.4a1b9f8b.js" as="script"><link rel="preload" href="/assets/js/1.08101a30.js" as="script"><link rel="preload" href="/assets/js/3.57ce2480.js" as="script"><link rel="preload" href="/assets/js/55.d63b7774.js" as="script"><link rel="prefetch" href="/assets/js/10.800b373e.js"><link rel="prefetch" href="/assets/js/11.018c06f8.js"><link rel="prefetch" href="/assets/js/12.989cb881.js"><link rel="prefetch" href="/assets/js/13.b2687a89.js"><link rel="prefetch" href="/assets/js/14.b170e7b8.js"><link rel="prefetch" href="/assets/js/15.68bcbef6.js"><link rel="prefetch" href="/assets/js/16.ea3c2918.js"><link rel="prefetch" href="/assets/js/17.974da1f7.js"><link rel="prefetch" href="/assets/js/18.8166579f.js"><link rel="prefetch" href="/assets/js/19.00d4def2.js"><link rel="prefetch" href="/assets/js/2.7718743e.js"><link rel="prefetch" href="/assets/js/20.af9a3da1.js"><link rel="prefetch" href="/assets/js/21.a5f5dd2e.js"><link rel="prefetch" href="/assets/js/22.26a48310.js"><link rel="prefetch" href="/assets/js/23.c0a60b60.js"><link rel="prefetch" href="/assets/js/24.57d7f1c8.js"><link rel="prefetch" href="/assets/js/25.af36e1cf.js"><link rel="prefetch" href="/assets/js/26.5b165ef7.js"><link rel="prefetch" href="/assets/js/27.121a426f.js"><link rel="prefetch" href="/assets/js/28.4346114a.js"><link rel="prefetch" href="/assets/js/29.73aa83c0.js"><link rel="prefetch" href="/assets/js/30.2045eab9.js"><link rel="prefetch" href="/assets/js/31.3de44d63.js"><link rel="prefetch" href="/assets/js/32.6d0a4721.js"><link rel="prefetch" href="/assets/js/33.d4e9d5f0.js"><link rel="prefetch" href="/assets/js/34.138cbacc.js"><link rel="prefetch" href="/assets/js/35.537e49dd.js"><link rel="prefetch" href="/assets/js/36.c6f11771.js"><link rel="prefetch" href="/assets/js/37.aa89c982.js"><link rel="prefetch" href="/assets/js/38.0573ac3d.js"><link rel="prefetch" href="/assets/js/39.951d5757.js"><link rel="prefetch" href="/assets/js/40.4f9fc734.js"><link rel="prefetch" href="/assets/js/41.d66cee8e.js"><link rel="prefetch" href="/assets/js/42.fb53192d.js"><link rel="prefetch" href="/assets/js/43.bf826d68.js"><link rel="prefetch" href="/assets/js/44.31598f11.js"><link rel="prefetch" href="/assets/js/45.4d498196.js"><link rel="prefetch" href="/assets/js/46.31948650.js"><link rel="prefetch" href="/assets/js/47.8295ef5b.js"><link rel="prefetch" href="/assets/js/48.9e3a5997.js"><link rel="prefetch" href="/assets/js/49.d82dd460.js"><link rel="prefetch" href="/assets/js/5.952108e8.js"><link rel="prefetch" href="/assets/js/50.368ae1ee.js"><link rel="prefetch" href="/assets/js/51.cffdbd18.js"><link rel="prefetch" href="/assets/js/52.95e83e77.js"><link rel="prefetch" href="/assets/js/53.0bc3bc30.js"><link rel="prefetch" href="/assets/js/54.56958d3c.js"><link rel="prefetch" href="/assets/js/56.0ecc0ea5.js"><link rel="prefetch" href="/assets/js/57.569b43c7.js"><link rel="prefetch" href="/assets/js/58.329a16b4.js"><link rel="prefetch" href="/assets/js/6.bd726b7f.js"><link rel="prefetch" href="/assets/js/7.0c069817.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.52229aeb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1d530ede.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="KCloud-Platform-IoT" class="logo"> <span class="site-name can-hide">KCloud-Platform-IoT</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="äºŒå¼€æŒ‡å—" class="dropdown-title"><a href="/pages/a438ap/" class="link-title">äºŒå¼€æŒ‡å—</a> <span class="title" style="display:none;">äºŒå¼€æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æ´»åŠ¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a438ap/" class="nav-link">KCloud-Platform-IoT å¼€æºä¸‰å‘¨å¹´å¿«ä¹&amp;çˆ¶äº²èŠ‚å¿«ä¹</a></li></ul></li><li class="dropdown-item"><h4>æŒ‡å—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/caff79/" class="nav-link">åç«¯é¡¹ç›®å¯åŠ¨</a></li><li class="dropdown-subitem"><a href="/pages/d38008/" class="nav-link">å‰ç«¯é¡¹ç›®å¯åŠ¨</a></li><li class="dropdown-subitem"><a href="/pages/511812/" class="nav-link">Dockerå®‰è£…</a></li><li class="dropdown-subitem"><a href="/pages/d55f5f/" class="nav-link">Linuxå¸¸ç”¨å‘½ä»¤</a></li><li class="dropdown-subitem"><a href="/pages/8300d6/" class="nav-link">Dockerå¸¸ç”¨å‘½ä»¤</a></li><li class="dropdown-subitem"><a href="/pages/dafd11/" class="nav-link">JVMæ€§èƒ½ä¼˜åŒ–</a></li><li class="dropdown-subitem"><a href="/pages/9cd6a1/" class="nav-link">é¡¹ç›®é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/d29eab/" class="nav-link">COLAä»£ç è§„èŒƒ</a></li><li class="dropdown-subitem"><a href="/pages/029878/" class="nav-link">OAuth2.1æˆæƒæœåŠ¡å™¨é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/029879/" class="nav-link">OAuth2.1èµ„æºæœåŠ¡å™¨é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/3c002a/" class="nav-link">OAuth2.1è®¤è¯APIé…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/bb6aae/" class="nav-link">Nacosé…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/a0f8a0/" class="nav-link">ç½‘å…³è·¯ç”±é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/2e0e5f/" class="nav-link">é¡¹ç›®å¸¸ç”¨æ³¨è§£</a></li><li class="dropdown-subitem"><a href="/pages/409dff/" class="nav-link">Elasticsearchæ³¨è§£</a></li><li class="dropdown-subitem"><a href="/pages/3cc49d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Spring Cloud Alibabaé…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/4953b0/" class="nav-link">Spring Cloud Gatewayé…ç½®</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/1b12ed/" class="nav-link">èµåŠ©</a></div> <a href="https://github.com/KouShenhai/KCloud-Platform-IoT" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="äºŒå¼€æŒ‡å—" class="dropdown-title"><a href="/pages/a438ap/" class="link-title">äºŒå¼€æŒ‡å—</a> <span class="title" style="display:none;">äºŒå¼€æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æ´»åŠ¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a438ap/" class="nav-link">KCloud-Platform-IoT å¼€æºä¸‰å‘¨å¹´å¿«ä¹&amp;çˆ¶äº²èŠ‚å¿«ä¹</a></li></ul></li><li class="dropdown-item"><h4>æŒ‡å—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/caff79/" class="nav-link">åç«¯é¡¹ç›®å¯åŠ¨</a></li><li class="dropdown-subitem"><a href="/pages/d38008/" class="nav-link">å‰ç«¯é¡¹ç›®å¯åŠ¨</a></li><li class="dropdown-subitem"><a href="/pages/511812/" class="nav-link">Dockerå®‰è£…</a></li><li class="dropdown-subitem"><a href="/pages/d55f5f/" class="nav-link">Linuxå¸¸ç”¨å‘½ä»¤</a></li><li class="dropdown-subitem"><a href="/pages/8300d6/" class="nav-link">Dockerå¸¸ç”¨å‘½ä»¤</a></li><li class="dropdown-subitem"><a href="/pages/dafd11/" class="nav-link">JVMæ€§èƒ½ä¼˜åŒ–</a></li><li class="dropdown-subitem"><a href="/pages/9cd6a1/" class="nav-link">é¡¹ç›®é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/d29eab/" class="nav-link">COLAä»£ç è§„èŒƒ</a></li><li class="dropdown-subitem"><a href="/pages/029878/" class="nav-link">OAuth2.1æˆæƒæœåŠ¡å™¨é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/029879/" class="nav-link">OAuth2.1èµ„æºæœåŠ¡å™¨é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/3c002a/" class="nav-link">OAuth2.1è®¤è¯APIé…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/bb6aae/" class="nav-link">Nacosé…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/a0f8a0/" class="nav-link">ç½‘å…³è·¯ç”±é…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/2e0e5f/" class="nav-link">é¡¹ç›®å¸¸ç”¨æ³¨è§£</a></li><li class="dropdown-subitem"><a href="/pages/409dff/" class="nav-link">Elasticsearchæ³¨è§£</a></li><li class="dropdown-subitem"><a href="/pages/3cc49d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Spring Cloud Alibabaé…ç½®</a></li><li class="dropdown-subitem"><a href="/pages/4953b0/" class="nav-link">Spring Cloud Gatewayé…ç½®</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/1b12ed/" class="nav-link">èµåŠ©</a></div> <a href="https://github.com/KouShenhai/KCloud-Platform-IoT" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ´»åŠ¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a438ap/" class="sidebar-link">KCloud-Platform-IoT å¼€æºä¸‰å‘¨å¹´å¿«ä¹&amp;çˆ¶äº²èŠ‚å¿«ä¹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>æŒ‡å—</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/caff79/" class="sidebar-link">åç«¯é¡¹ç›®å¯åŠ¨</a></li><li><a href="/pages/d38008/" class="sidebar-link">å‰ç«¯é¡¹ç›®å¯åŠ¨</a></li><li><a href="/pages/511812/" class="sidebar-link">Dockerå®‰è£…</a></li><li><a href="/pages/d55f5f/" class="sidebar-link">Linuxå¸¸ç”¨å‘½ä»¤</a></li><li><a href="/pages/8300d6/" class="sidebar-link">Dockerå¸¸ç”¨å‘½ä»¤</a></li><li><a href="/pages/dafd11/" class="sidebar-link">JVMæ€§èƒ½ä¼˜åŒ–</a></li><li><a href="/pages/9cd6a1/" class="sidebar-link">é¡¹ç›®é…ç½®</a></li><li><a href="/pages/d29eab/" class="sidebar-link">COLAä»£ç è§„èŒƒ</a></li><li><a href="/pages/029878/" class="sidebar-link">OAuth2.1æˆæƒæœåŠ¡å™¨é…ç½®</a></li><li><a href="/pages/029879/" class="sidebar-link">OAuth2.1èµ„æºæœåŠ¡å™¨é…ç½®</a></li><li><a href="/pages/3c002a/" class="sidebar-link">OAuth2.1è®¤è¯APIé…ç½®</a></li><li><a href="/pages/bb6aae/" class="sidebar-link">Nacosé…ç½®</a></li><li><a href="/pages/a0f8a0/" class="sidebar-link">ç½‘å…³è·¯ç”±é…ç½®</a></li><li><a href="/pages/2e0e5f/" class="sidebar-link">é¡¹ç›®å¸¸ç”¨æ³¨è§£</a></li><li><a href="/pages/409dff/" class="sidebar-link">Elasticsearchæ³¨è§£</a></li><li><a href="/pages/3cc49d/" aria-current="page" class="active sidebar-link">Spring Cloud Alibabaé…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/3cc49d/#_2-nacos-é…ç½®ä¸­å¿ƒ-config" class="sidebar-link">2. Nacos é…ç½®ä¸­å¿ƒï¼ˆConfigï¼‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#é…ç½®é¡¹-2" class="sidebar-link">é…ç½®é¡¹</a></li><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#ç¤ºä¾‹-2" class="sidebar-link">ç¤ºä¾‹</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/3cc49d/#_3-nacos-é…ç½®å¯¼å…¥-config-import" class="sidebar-link">3. Nacos é…ç½®å¯¼å…¥ï¼ˆConfig Importï¼‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#é…ç½®é¡¹-3" class="sidebar-link">é…ç½®é¡¹</a></li><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#ç¤ºä¾‹-3" class="sidebar-link">ç¤ºä¾‹</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/3cc49d/#_4-è´Ÿè½½å‡è¡¡-loadbalancer" class="sidebar-link">4. è´Ÿè½½å‡è¡¡ï¼ˆLoadbalancerï¼‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#é…ç½®é¡¹-4" class="sidebar-link">é…ç½®é¡¹</a></li><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#ç¤ºä¾‹-4" class="sidebar-link">ç¤ºä¾‹</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/3cc49d/#_5-sentinel-æµé‡é˜²æŠ¤" class="sidebar-link">5. Sentinel æµé‡é˜²æŠ¤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#_5-1-åŸºç¡€é…ç½®" class="sidebar-link">5.1 åŸºç¡€é…ç½®</a></li><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#_5-2-æ•°æ®æºé…ç½®-nacos-æŒä¹…åŒ–è§„åˆ™" class="sidebar-link">5.2 æ•°æ®æºé…ç½®ï¼ˆNacos æŒä¹…åŒ–è§„åˆ™ï¼‰</a></li><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#ç¤ºä¾‹-5" class="sidebar-link">ç¤ºä¾‹</a></li><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#sentinel-è§„åˆ™ç±»å‹é€ŸæŸ¥" class="sidebar-link">Sentinel è§„åˆ™ç±»å‹é€ŸæŸ¥</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/3cc49d/#_6-ç½‘ç»œæ¥å£è¿‡æ»¤-inetutils" class="sidebar-link">6. ç½‘ç»œæ¥å£è¿‡æ»¤ï¼ˆinetutilsï¼‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#é…ç½®é¡¹-5" class="sidebar-link">é…ç½®é¡¹</a></li><li class="sidebar-sub-header level3"><a href="/pages/3cc49d/#ç¤ºä¾‹-6" class="sidebar-link">ç¤ºä¾‹</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/3cc49d/#å®Œæ•´é…ç½®æ€»è§ˆ" class="sidebar-link">å®Œæ•´é…ç½®æ€»è§ˆ</a></li><li class="sidebar-sub-header level2"><a href="/pages/3cc49d/#é…ç½®æ¥æºè¯´æ˜" class="sidebar-link">é…ç½®æ¥æºè¯´æ˜</a></li></ul></li><li><a href="/pages/4953b0/" class="sidebar-link">Spring Cloud Gatewayé…ç½®</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>äºŒå¼€æŒ‡å—</span></li><li data-v-06225672><span data-v-06225672>æŒ‡å—</span></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/KouShenhai" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>KCloud-Platform-IoT</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2026-02-11</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Spring Cloud Alibabaé…ç½®<!----></h1>  <div class="theme-vdoing-content content__default"><p>ä½ å¥½å‘€ï¼Œæˆ‘çš„è€æœ‹å‹ï¼æˆ‘æ˜¯è€å¯‡ï¼Œæ¬¢è¿æ¥åˆ°è€å¯‡IoTäº‘å¹³å°ï¼</p> <blockquote><p>é…ç½®å‰ç¼€ï¼š<code>spring.cloud.nacos.discovery</code></p></blockquote> <p>å°†æœåŠ¡æ³¨å†Œåˆ° Nacos æ³¨å†Œä¸­å¿ƒï¼Œå¹¶ä»ä¸­å‘ç°å…¶ä»–æœåŠ¡ã€‚</p> <h3 id="é…ç½®é¡¹"><a href="#é…ç½®é¡¹" class="header-anchor">#</a> é…ç½®é¡¹</h3> <table><thead><tr><th>é…ç½®é¡¹</th> <th>ç±»å‹</th> <th>é»˜è®¤å€¼</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td><code>enabled</code></td> <td>boolean</td> <td><code>true</code></td> <td>æ˜¯å¦å¼€å¯æœåŠ¡æ³¨å†Œä¸å‘ç°</td></tr> <tr><td><code>server-addr</code></td> <td>string</td> <td>â€”</td> <td>Nacos æœåŠ¡åœ°å€ï¼ˆå¦‚ <code>127.0.0.1:8848</code>ï¼‰</td></tr> <tr><td><code>namespace</code></td> <td>string</td> <td>â€”</td> <td>å‘½åç©ºé—´ IDï¼Œç”¨äºç¯å¢ƒéš”ç¦»ï¼ˆdev / test / prodï¼‰</td></tr> <tr><td><code>username</code></td> <td>string</td> <td>â€”</td> <td>Nacos ç™»å½•ç”¨æˆ·å</td></tr> <tr><td><code>password</code></td> <td>string</td> <td>â€”</td> <td>Nacos ç™»å½•å¯†ç </td></tr> <tr><td><code>group</code></td> <td>string</td> <td><code>DEFAULT_GROUP</code></td> <td>æœåŠ¡åˆ†ç»„</td></tr> <tr><td><code>secure</code></td> <td>boolean</td> <td><code>false</code></td> <td>æ˜¯å¦å¯ç”¨ HTTPS é€šä¿¡</td></tr> <tr><td><code>ephemeral</code></td> <td>boolean</td> <td><code>true</code></td> <td><code>true</code> = ä¸´æ—¶å®ä¾‹ï¼ˆé»˜è®¤ï¼‰ï¼Œ<code>false</code> = æŒä¹…å®ä¾‹</td></tr> <tr><td><code>cluster-name</code></td> <td>string</td> <td>â€”</td> <td>é›†ç¾¤åç§°ï¼Œç”¨äºåŒé›†ç¾¤ä¼˜å…ˆè°ƒç”¨</td></tr> <tr><td><code>heart-beat.enabled</code></td> <td>boolean</td> <td><code>true</code></td> <td>æ˜¯å¦å¼€å¯å¿ƒè·³æ£€æµ‹</td></tr> <tr><td><code>heart-beat-interval</code></td> <td>int (ms)</td> <td><code>5000</code></td> <td>å¿ƒè·³å‘é€é—´éš”ï¼ˆæ¯«ç§’ï¼‰</td></tr> <tr><td><code>heart-beat-timeout</code></td> <td>int (ms)</td> <td><code>15000</code></td> <td>è¶…è¿‡æ­¤æ—¶é—´æ— å¿ƒè·³ï¼Œæ ‡è®°ä¸ºä¸å¥åº·ï¼ˆæ¯«ç§’ï¼‰</td></tr></tbody></table> <h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token comment"># å¼€å¯æœåŠ¡æ³¨å†Œ&amp;å‘ç°</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_DISCOVERY_ADDRESS<span class="token punctuation">:</span>nacos<span class="token punctuation">:</span><span class="token number">8848</span><span class="token punctuation">}</span>
        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_NAMESPACE<span class="token punctuation">:</span>public<span class="token punctuation">}</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_USERNAME<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_PASSWORD<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">group</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_GROUP<span class="token punctuation">:</span>IOT_GROUP<span class="token punctuation">}</span>
        <span class="token comment"># æ˜¯å¦å¯ç”¨ HTTPS</span>
        <span class="token key atrule">secure</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token comment"># true ä¸´æ—¶å®ä¾‹ / false æŒä¹…å®ä¾‹</span>
        <span class="token key atrule">ephemeral</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_CLUSTER_NAME<span class="token punctuation">:</span>iot<span class="token punctuation">-</span>cluster<span class="token punctuation">}</span>
        <span class="token key atrule">heart-beat</span><span class="token punctuation">:</span>
          <span class="token comment"># å¼€å¯å¿ƒè·³æ£€æµ‹</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token comment"># æ¯ 10 ç§’å‘é€ä¸€æ¬¡å¿ƒè·³</span>
        <span class="token key atrule">heart-beat-interval</span><span class="token punctuation">:</span> <span class="token number">10000</span>
        <span class="token comment"># è¶…è¿‡ 30 ç§’æ— å¿ƒè·³æ ‡è®°ä¸ºä¸å¥åº·</span>
        <span class="token key atrule">heart-beat-timeout</span><span class="token punctuation">:</span> <span class="token number">30000</span>
</code></pre></div><blockquote><p><strong>ğŸ’¡ æç¤ºï¼š</strong> ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆ<code>${NACOS_DISCOVERY_ADDRESS:nacos:8848}</code>ï¼‰å¯ä½¿åŒä¸€ä»½é…ç½®åœ¨ä¸åŒç¯å¢ƒä¸­å¤ç”¨ï¼Œä»…éœ€åœ¨å¯åŠ¨å‚æ•°æˆ– <code>.env</code> æ–‡ä»¶ä¸­åˆ‡æ¢ã€‚</p></blockquote> <hr> <h2 id="_2-nacos-é…ç½®ä¸­å¿ƒ-config"><a href="#_2-nacos-é…ç½®ä¸­å¿ƒ-config" class="header-anchor">#</a> 2. Nacos é…ç½®ä¸­å¿ƒï¼ˆConfigï¼‰</h2> <blockquote><p>é…ç½®å‰ç¼€ï¼š<code>spring.cloud.nacos.config</code></p></blockquote> <p>ä» Nacos æ‹‰å–å¤–éƒ¨åŒ–é…ç½®ï¼Œæ”¯æŒåŠ¨æ€åˆ·æ–°ã€‚</p> <h3 id="é…ç½®é¡¹-2"><a href="#é…ç½®é¡¹-2" class="header-anchor">#</a> é…ç½®é¡¹</h3> <table><thead><tr><th>é…ç½®é¡¹</th> <th>ç±»å‹</th> <th>é»˜è®¤å€¼</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td><code>enabled</code></td> <td>boolean</td> <td><code>true</code></td> <td>æ˜¯å¦å¼€å¯é…ç½®ä¸­å¿ƒ</td></tr> <tr><td><code>server-addr</code></td> <td>string</td> <td>â€”</td> <td>Nacos é…ç½®ä¸­å¿ƒåœ°å€</td></tr> <tr><td><code>namespace</code></td> <td>string</td> <td>â€”</td> <td>å‘½åç©ºé—´ ID</td></tr> <tr><td><code>username</code></td> <td>string</td> <td>â€”</td> <td>Nacos ç™»å½•ç”¨æˆ·å</td></tr> <tr><td><code>password</code></td> <td>string</td> <td>â€”</td> <td>Nacos ç™»å½•å¯†ç </td></tr> <tr><td><code>cluster-name</code></td> <td>string</td> <td>â€”</td> <td>é›†ç¾¤åç§°</td></tr> <tr><td><code>file-extension</code></td> <td>string</td> <td><code>properties</code></td> <td>è¯»å–çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼š<code>yaml</code> / <code>properties</code> / <code>json</code></td></tr> <tr><td><code>group</code></td> <td>string</td> <td><code>DEFAULT_GROUP</code></td> <td>é…ç½®åˆ†ç»„</td></tr> <tr><td><code>refresh-enabled</code></td> <td>boolean</td> <td><code>true</code></td> <td>æ˜¯å¦å¯ç”¨é…ç½®åŠ¨æ€åˆ·æ–°</td></tr></tbody></table> <h3 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token comment"># å¼€å¯é…ç½®ä¸­å¿ƒ</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_CONFIG_ADDRESS<span class="token punctuation">:</span>nacos<span class="token punctuation">:</span><span class="token number">8848</span><span class="token punctuation">}</span>
        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_NAMESPACE<span class="token punctuation">:</span>public<span class="token punctuation">}</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_USERNAME<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_PASSWORD<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_CLUSTER_NAME<span class="token punctuation">:</span>iot<span class="token punctuation">-</span>cluster<span class="token punctuation">}</span>
        <span class="token comment"># æŒ‡å®šè¯»å–çš„æ–‡ä»¶æ ¼å¼</span>
        <span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yaml
        <span class="token key atrule">group</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_GROUP<span class="token punctuation">:</span>IOT_GROUP<span class="token punctuation">}</span>
        <span class="token key atrule">refresh-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><blockquote><p><strong>âš ï¸ é‡è¦ï¼š</strong> <code>file-extension</code> å¿…é¡»ä¸ Nacos æ§åˆ¶å°ä¸Šé…ç½®çš„ Data ID åç¼€ä¸€è‡´ã€‚ä¾‹å¦‚ Data ID ä¸º <code>laokou-auth.yaml</code>ï¼Œåˆ™æ­¤å¤„å¿…é¡»å¡« <code>yaml</code>ã€‚</p></blockquote> <hr> <h2 id="_3-nacos-é…ç½®å¯¼å…¥-config-import"><a href="#_3-nacos-é…ç½®å¯¼å…¥-config-import" class="header-anchor">#</a> 3. Nacos é…ç½®å¯¼å…¥ï¼ˆConfig Importï¼‰</h2> <blockquote><p>é…ç½®å‰ç¼€ï¼š<code>spring.config.import</code></p></blockquote> <p>Spring Boot 2.4+ å¼•å…¥çš„æ ‡å‡†é…ç½®å¯¼å…¥æ–¹å¼ï¼Œç”¨äºä» Nacos æ‹‰å–æŒ‡å®šé…ç½®æ–‡ä»¶ã€‚</p> <h3 id="é…ç½®é¡¹-3"><a href="#é…ç½®é¡¹-3" class="header-anchor">#</a> é…ç½®é¡¹</h3> <table><thead><tr><th>å‚æ•°</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td><code>optional:nacos:&lt;dataId&gt;</code></td> <td>è¦æ‹‰å–çš„ Nacos é…ç½®æ–‡ä»¶ Data IDï¼Œ<code>optional:</code> è¡¨ç¤ºæ–‡ä»¶ä¸å­˜åœ¨æ—¶ä¸æŠ¥é”™</td></tr> <tr><td><code>refreshEnabled=true</code></td> <td>å¼€å¯é…ç½®è‡ªåŠ¨åˆ·æ–°</td></tr> <tr><td><code>group=&lt;GROUP&gt;</code></td> <td>æŒ‡å®šé…ç½®æ‰€å±åˆ†ç»„ï¼ˆè§£å†³é»˜è®¤ <code>DEFAULT_GROUP</code> é—®é¢˜ï¼‰</td></tr></tbody></table> <h3 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">import</span><span class="token punctuation">:</span>
      <span class="token comment"># æ‹‰å– nacos é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®š group é¿å…é»˜è®¤ DEFAULT_GROUP é—®é¢˜</span>
      <span class="token punctuation">-</span> optional<span class="token punctuation">:</span>nacos<span class="token punctuation">:</span>laokou<span class="token punctuation">-</span>auth.yaml<span class="token punctuation">?</span>refreshEnabled=true<span class="token important">&amp;group=$</span><span class="token punctuation">{</span>NACOS<span class="token punctuation">-</span>GROUP<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>ğŸ“ è¯´æ˜ï¼š</strong> ä½¿ç”¨ <code>optional:</code> å‰ç¼€åï¼Œå³ä½¿ Nacos ä¸Šä¸å­˜åœ¨è¯¥é…ç½®æ–‡ä»¶ï¼Œåº”ç”¨ä¹Ÿèƒ½æ­£å¸¸å¯åŠ¨ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p></blockquote> <hr> <h2 id="_4-è´Ÿè½½å‡è¡¡-loadbalancer"><a href="#_4-è´Ÿè½½å‡è¡¡-loadbalancer" class="header-anchor">#</a> 4. è´Ÿè½½å‡è¡¡ï¼ˆLoadbalancerï¼‰</h2> <blockquote><p>é…ç½®å‰ç¼€ï¼š<code>spring.cloud.loadbalancer</code></p></blockquote> <p>Spring Cloud LoadBalancer å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡é…ç½®ï¼Œé¡¹ç›®ä¸­é›†æˆäº† Nacos è´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚</p> <h3 id="é…ç½®é¡¹-4"><a href="#é…ç½®é¡¹-4" class="header-anchor">#</a> é…ç½®é¡¹</h3> <table><thead><tr><th>é…ç½®é¡¹</th> <th>ç±»å‹</th> <th>é»˜è®¤å€¼</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td><code>nacos.enabled</code></td> <td>boolean</td> <td><code>false</code></td> <td>æ˜¯å¦ä½¿ç”¨ Nacos æƒé‡è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆæ›¿ä»£é»˜è®¤çš„ RoundRobinï¼‰</td></tr></tbody></table> <h3 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">loadbalancer</span><span class="token punctuation">:</span>
      <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
        <span class="token comment"># å¯ç”¨ Nacos æƒé‡è´Ÿè½½å‡è¡¡</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><blockquote><p><strong>ğŸ’¡ æç¤ºï¼š</strong> å¯ç”¨åï¼ŒLoadBalancer å°†ç»“åˆ Nacos ä¸­æœåŠ¡å®ä¾‹çš„æƒé‡å’Œé›†ç¾¤ä¿¡æ¯è¿›è¡Œè·¯ç”±ï¼Œä¼˜å…ˆé€‰æ‹©åŒé›†ç¾¤ã€é«˜æƒé‡çš„å®ä¾‹ï¼Œé€‚ç”¨äºå¤šæœºæˆ¿ã€ç°åº¦å‘å¸ƒç­‰åœºæ™¯ã€‚</p></blockquote> <hr> <h2 id="_5-sentinel-æµé‡é˜²æŠ¤"><a href="#_5-sentinel-æµé‡é˜²æŠ¤" class="header-anchor">#</a> 5. Sentinel æµé‡é˜²æŠ¤</h2> <blockquote><p>é…ç½®å‰ç¼€ï¼š<code>spring.cloud.sentinel</code></p></blockquote> <p>Alibaba Sentinel æä¾›æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ã€‚</p> <h3 id="_5-1-åŸºç¡€é…ç½®"><a href="#_5-1-åŸºç¡€é…ç½®" class="header-anchor">#</a> 5.1 åŸºç¡€é…ç½®</h3> <table><thead><tr><th>é…ç½®é¡¹</th> <th>ç±»å‹</th> <th>é»˜è®¤å€¼</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td><code>eager</code></td> <td>boolean</td> <td><code>false</code></td> <td>æ˜¯å¦é¥¥é¥¿åŠ è½½ï¼ˆå¯åŠ¨æ—¶å³åˆå§‹åŒ– Sentinelï¼Œè€Œéé¦–æ¬¡è°ƒç”¨æ—¶ï¼‰</td></tr> <tr><td><code>web-context-unify</code></td> <td>boolean</td> <td><code>true</code></td> <td>æ˜¯å¦ç»Ÿä¸€ Web ä¸Šä¸‹æ–‡ã€‚è®¾ä¸º <code>false</code> å¯å¯¹ä¸åŒ URL åˆ†åˆ«é™æµ</td></tr> <tr><td><code>filter.enabled</code></td> <td>boolean</td> <td><code>true</code></td> <td>æ˜¯å¦å¯ç”¨ Sentinel çš„ Servlet Filter æ‹¦æˆª</td></tr> <tr><td><code>transport.dashboard</code></td> <td>string</td> <td>â€”</td> <td>Sentinel Dashboard åœ°å€ï¼ˆå¦‚ <code>sentinel:8972</code>ï¼‰</td></tr></tbody></table> <h3 id="_5-2-æ•°æ®æºé…ç½®-nacos-æŒä¹…åŒ–è§„åˆ™"><a href="#_5-2-æ•°æ®æºé…ç½®-nacos-æŒä¹…åŒ–è§„åˆ™" class="header-anchor">#</a> 5.2 æ•°æ®æºé…ç½®ï¼ˆNacos æŒä¹…åŒ–è§„åˆ™ï¼‰</h3> <blockquote><p>é…ç½®å‰ç¼€ï¼š<code>spring.cloud.sentinel.datasource.&lt;name&gt;.nacos</code></p></blockquote> <p>å°† Sentinel è§„åˆ™æŒä¹…åŒ–åˆ° Nacosï¼Œé¿å…é‡å¯ä¸¢å¤±ã€‚</p> <table><thead><tr><th>é…ç½®é¡¹</th> <th>ç±»å‹</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td><code>server-addr</code></td> <td>string</td> <td>Nacos æœåŠ¡åœ°å€</td></tr> <tr><td><code>namespace</code></td> <td>string</td> <td>å‘½åç©ºé—´</td></tr> <tr><td><code>data-id</code></td> <td>string</td> <td>è§„åˆ™æ–‡ä»¶çš„ Data IDï¼ˆå¦‚ <code>auth-flow.json</code>ï¼‰</td></tr> <tr><td><code>data-type</code></td> <td>string</td> <td>æ•°æ®æ ¼å¼ï¼š<code>json</code> / <code>xml</code></td></tr> <tr><td><code>group-id</code></td> <td>string</td> <td>é…ç½®åˆ†ç»„</td></tr> <tr><td><code>username</code></td> <td>string</td> <td>Nacos ç”¨æˆ·å</td></tr> <tr><td><code>password</code></td> <td>string</td> <td>Nacos å¯†ç </td></tr> <tr><td><code>rule-type</code></td> <td>string</td> <td>è§„åˆ™ç±»å‹ï¼š<code>flow</code> / <code>degrade</code> / <code>system</code> / <code>authority</code> / <code>param-flow</code></td></tr></tbody></table> <h3 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">sentinel</span><span class="token punctuation">:</span>
      <span class="token comment"># é¥¥é¥¿åŠ è½½ï¼Œå¯åŠ¨æ—¶åˆå§‹åŒ–</span>
      <span class="token key atrule">eager</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token comment"># ä¸ç»Ÿä¸€ä¸Šä¸‹æ–‡ï¼Œå¯¹ä¸åŒ URL åˆ†åˆ«é™æµ</span>
      <span class="token key atrule">web-context-unify</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">transport</span><span class="token punctuation">:</span>
        <span class="token key atrule">dashboard</span><span class="token punctuation">:</span> sentinel<span class="token punctuation">:</span><span class="token number">8972</span>
      <span class="token key atrule">filter</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
        <span class="token comment"># è‡ªå®šä¹‰æ•°æ®æºåç§°</span>
        <span class="token key atrule">db0</span><span class="token punctuation">:</span>
          <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
            server<span class="token punctuation">-</span>addr<span class="token punctuation">:</span>$<span class="token punctuation">{</span>NACOS_CONFIG_ADDRESS<span class="token punctuation">:</span>nacos<span class="token punctuation">:</span><span class="token number">8848</span><span class="token punctuation">}</span>
            <span class="token key atrule">namespace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_NAMESPACE<span class="token punctuation">:</span>public<span class="token punctuation">}</span>
            <span class="token key atrule">data-id</span><span class="token punctuation">:</span> auth<span class="token punctuation">-</span>flow.json
            <span class="token key atrule">data-type</span><span class="token punctuation">:</span> json
            <span class="token key atrule">group-id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_GROUP<span class="token punctuation">:</span>IOT_GROUP<span class="token punctuation">}</span>
            <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_USERNAME<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
            <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_PASSWORD<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
            <span class="token comment"># flow = æµæ§è§„åˆ™</span>
            <span class="token key atrule">rule-type</span><span class="token punctuation">:</span> flow
</code></pre></div><blockquote><p><strong>âš ï¸ æ³¨æ„ï¼š</strong> <code>web-context-unify</code> è®¾ä¸º <code>false</code> æ—¶ï¼Œæ¯ä¸ª URL å…¥å£ä¼šåˆ›å»ºç‹¬ç«‹çš„ Contextï¼Œå¦‚æœæ¥å£æ•°é‡è¿‡å¤šå¯èƒ½å¢åŠ å†…å­˜å¼€é”€ï¼Œè¯·æ ¹æ®å®é™…åœºæ™¯æƒè¡¡ã€‚</p></blockquote> <h3 id="sentinel-è§„åˆ™ç±»å‹é€ŸæŸ¥"><a href="#sentinel-è§„åˆ™ç±»å‹é€ŸæŸ¥" class="header-anchor">#</a> Sentinel è§„åˆ™ç±»å‹é€ŸæŸ¥</h3> <table><thead><tr><th><code>rule-type</code></th> <th>å«ä¹‰</th> <th>ç”¨é€”</th></tr></thead> <tbody><tr><td><code>flow</code></td> <td>æµé‡æ§åˆ¶</td> <td>QPS / çº¿ç¨‹æ•°é™æµ</td></tr> <tr><td><code>degrade</code></td> <td>ç†”æ–­é™çº§</td> <td>æ…¢è°ƒç”¨æ¯”ä¾‹ã€å¼‚å¸¸æ¯”ä¾‹ã€å¼‚å¸¸æ•°</td></tr> <tr><td><code>system</code></td> <td>ç³»ç»Ÿä¿æŠ¤</td> <td>CPU ä½¿ç”¨ç‡ã€ç³»ç»Ÿ Load ç­‰</td></tr> <tr><td><code>authority</code></td> <td>æˆæƒè§„åˆ™</td> <td>é»‘ç™½åå•æ§åˆ¶</td></tr> <tr><td><code>param-flow</code></td> <td>çƒ­ç‚¹å‚æ•°</td> <td>å¯¹æŸä¸ªå‚æ•°å€¼å•ç‹¬é™æµ</td></tr></tbody></table> <hr> <h2 id="_6-ç½‘ç»œæ¥å£è¿‡æ»¤-inetutils"><a href="#_6-ç½‘ç»œæ¥å£è¿‡æ»¤-inetutils" class="header-anchor">#</a> 6. ç½‘ç»œæ¥å£è¿‡æ»¤ï¼ˆinetutilsï¼‰</h2> <blockquote><p>é…ç½®å‰ç¼€ï¼š<code>spring.cloud.inetutils</code></p></blockquote> <p>æ§åˆ¶æœåŠ¡æ³¨å†Œæ—¶ä½¿ç”¨å“ªå¼ ç½‘å¡çš„ IP åœ°å€ã€‚åœ¨ Docker / å¤šç½‘å¡ç¯å¢ƒä¸‹éå¸¸é‡è¦ã€‚</p> <h3 id="é…ç½®é¡¹-5"><a href="#é…ç½®é¡¹-5" class="header-anchor">#</a> é…ç½®é¡¹</h3> <table><thead><tr><th>é…ç½®é¡¹</th> <th>ç±»å‹</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td><code>ignored-interfaces</code></td> <td>list</td> <td>éœ€è¦å¿½ç•¥çš„ç½‘ç»œæ¥å£åç§°ï¼ˆæ”¯æŒæ­£åˆ™ï¼‰</td></tr></tbody></table> <h3 id="ç¤ºä¾‹-6"><a href="#ç¤ºä¾‹-6" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">inetutils</span><span class="token punctuation">:</span>
      <span class="token key atrule">ignored-interfaces</span><span class="token punctuation">:</span>
        <span class="token comment"># å¿½ç•¥ Docker è™šæ‹Ÿç½‘å¡</span>
        <span class="token punctuation">-</span> docker0
        <span class="token comment"># å¿½ç•¥ veth å¼€å¤´çš„è™šæ‹Ÿç½‘å¡</span>
        <span class="token punctuation">-</span> veth.*
</code></pre></div><blockquote><p><strong>âš ï¸ é‡è¦ï¼š</strong> åœ¨å®¹å™¨åŒ–éƒ¨ç½²ç¯å¢ƒä¸­ï¼ŒDocker ä¼šåˆ›å»ºè™šæ‹Ÿç½‘å¡ï¼ˆ<code>docker0</code>ã€<code>veth*</code>ï¼‰ï¼Œè‹¥ä¸å¿½ç•¥è¿™äº›æ¥å£ï¼ŒæœåŠ¡å¯èƒ½æ³¨å†Œè™šæ‹Ÿç½‘å¡çš„ IPï¼Œå¯¼è‡´å…¶ä»–æœåŠ¡æ— æ³•è®¿é—®ã€‚</p></blockquote> <hr> <h2 id="å®Œæ•´é…ç½®æ€»è§ˆ"><a href="#å®Œæ•´é…ç½®æ€»è§ˆ" class="header-anchor">#</a> å®Œæ•´é…ç½®æ€»è§ˆ</h2> <p>ä»¥ä¸‹ä¸º <code>laokou-auth</code> æ¨¡å—ä¸­æ‰€æœ‰ <code>spring.cloud</code> ç›¸å…³é…ç½®çš„å®Œæ•´æ±‡æ€»ï¼š</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token comment"># Nacos é…ç½®å¯¼å…¥</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">import</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> optional<span class="token punctuation">:</span>nacos<span class="token punctuation">:</span>laokou<span class="token punctuation">-</span>auth.yaml<span class="token punctuation">?</span>refreshEnabled=true<span class="token important">&amp;group=$</span><span class="token punctuation">{</span>NACOS_GROUP<span class="token punctuation">:</span>IOT_GROUP<span class="token punctuation">}</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token comment"># ========== è´Ÿè½½å‡è¡¡ ==========</span>
    <span class="token key atrule">loadbalancer</span><span class="token punctuation">:</span>
      <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

    <span class="token comment"># ========== ç½‘ç»œæ¥å£è¿‡æ»¤ ==========</span>
    <span class="token key atrule">inetutils</span><span class="token punctuation">:</span>
      <span class="token key atrule">ignored-interfaces</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> docker0
        <span class="token punctuation">-</span> veth.*

    <span class="token comment"># ========== Sentinel æµé‡é˜²æŠ¤ ==========</span>
    <span class="token key atrule">sentinel</span><span class="token punctuation">:</span>
      <span class="token key atrule">eager</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">web-context-unify</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">transport</span><span class="token punctuation">:</span>
        <span class="token key atrule">dashboard</span><span class="token punctuation">:</span> sentinel<span class="token punctuation">:</span><span class="token number">8972</span>
      <span class="token key atrule">filter</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
        <span class="token key atrule">db0</span><span class="token punctuation">:</span>
          <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
            <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> @NACOS<span class="token punctuation">-</span>CONFIG<span class="token punctuation">-</span>ADDRESS@
            <span class="token key atrule">namespace</span><span class="token punctuation">:</span> @NACOS<span class="token punctuation">-</span>NAMESPACE@
            <span class="token key atrule">data-id</span><span class="token punctuation">:</span> auth<span class="token punctuation">-</span>flow.json
            <span class="token key atrule">data-type</span><span class="token punctuation">:</span> json
            <span class="token key atrule">group-id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_GROUP<span class="token punctuation">:</span>IOT_GROUP<span class="token punctuation">}</span>
            <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_USERNAME<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
            <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_PASSWORD<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
            <span class="token key atrule">rule-type</span><span class="token punctuation">:</span> flow

    <span class="token comment"># ========== Nacos æœåŠ¡å‘ç° ==========</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_DISCOVERY_ADDRESS<span class="token punctuation">:</span>nacos<span class="token punctuation">:</span><span class="token number">8848</span><span class="token punctuation">}</span>
        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_NAMESPACE<span class="token punctuation">:</span>public<span class="token punctuation">}</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_USERNAME<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_PASSWORD<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">group</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_GROUP<span class="token punctuation">:</span>IOT_GROUP<span class="token punctuation">}</span>
        <span class="token key atrule">secure</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">ephemeral</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_CLUSTER_NAME<span class="token punctuation">:</span>iot<span class="token punctuation">-</span>cluster<span class="token punctuation">}</span>
        <span class="token key atrule">heart-beat</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">heart-beat-interval</span><span class="token punctuation">:</span> <span class="token number">10000</span>
        <span class="token key atrule">heart-beat-timeout</span><span class="token punctuation">:</span> <span class="token number">30000</span>

      <span class="token comment"># ========== Nacos é…ç½®ä¸­å¿ƒ ==========</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_CONFIG_ADDRESS<span class="token punctuation">:</span>nacos<span class="token punctuation">:</span><span class="token number">8848</span><span class="token punctuation">}</span>
        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_NAMESPACE<span class="token punctuation">:</span>public<span class="token punctuation">}</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_USERNAME<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_PASSWORD<span class="token punctuation">:</span>nacos<span class="token punctuation">}</span>
        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_CLUSTER_NAME<span class="token punctuation">:</span>iot<span class="token punctuation">-</span>cluster<span class="token punctuation">}</span>
        <span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yaml
        <span class="token key atrule">group</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NACOS_GROUP<span class="token punctuation">:</span>IOT_GROUP<span class="token punctuation">}</span>
        <span class="token key atrule">refresh-enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><hr> <h2 id="é…ç½®æ¥æºè¯´æ˜"><a href="#é…ç½®æ¥æºè¯´æ˜" class="header-anchor">#</a> é…ç½®æ¥æºè¯´æ˜</h2> <table><thead><tr><th>æ–‡ä»¶</th> <th>åŒ…å«çš„ Spring Cloud é…ç½®</th></tr></thead> <tbody><tr><td><code>application.yml</code></td> <td><code>loadbalancer</code>ã€<code>inetutils</code>ã€<code>sentinel</code></td></tr> <tr><td><code>application-dev.yml</code></td> <td><code>nacos.discovery</code>ã€<code>nacos.config</code>ã€<code>config.import</code></td></tr></tbody></table> <blockquote><p><strong>ğŸ“ è¯´æ˜ï¼š</strong> <code>application.yml</code> ä¸­çš„é…ç½®å¯¹æ‰€æœ‰ç¯å¢ƒç”Ÿæ•ˆï¼›<code>application-dev.yml</code> ä»…åœ¨ <code>spring.profiles.active=dev</code> æ—¶ç”Ÿæ•ˆã€‚é€šè¿‡ Profile åˆ†ç¦»ç¯å¢ƒå·®å¼‚ï¼Œä¸»é…ç½®æ–‡ä»¶ä¿æŒé€šç”¨ã€‚</p></blockquote> <p>æˆ‘æ˜¯è€å¯‡ï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§å•¦ï¼</p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2/19/2026, 1:21:45 AM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/409dff/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Elasticsearchæ³¨è§£</div></a> <a href="/pages/4953b0/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Spring Cloud Gatewayé…ç½®</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/409dff/" class="prev">Elasticsearchæ³¨è§£</a></span> <span class="next"><a href="/pages/4953b0/">Spring Cloud Gatewayé…ç½®</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:2413176044@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/KouShenhai" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2026
    <span>laokou | Apache 2.0 License</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8d26d456.js" defer></script><script src="/assets/js/4.4a1b9f8b.js" defer></script><script src="/assets/js/1.08101a30.js" defer></script><script src="/assets/js/3.57ce2480.js" defer></script><script src="/assets/js/55.d63b7774.js" defer></script>
  </body>
</html>
